(this.webpackJsonptrello=this.webpackJsonptrello||[]).push([[0],{126:function(t,e,a){"use strict";a.r(e);var d=a(1),n=a.n(d),i=a(11),s=a.n(i),r=a(19),c=a(6),l=a(40),o=a(4),h=(a(127),"GET_LISTS"),u="POST_LIST",b="DELETE_LIST",C="UPDATE_LIST",j="GET_CARDS",p="POST_CARD",f="DELETE_CARD",g="UPDATE_CARD",L="GET_ERRORS",O={lists:[],cards:[]};var E=Object(c.combineReducers)({getReducers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case h:return console.log(e.payload,"line 1432432"),Object(o.a)(Object(o.a)({},t),{},{lists:e.payload});case j:return console.log(e.payload,"line 14"),Object(o.a)(Object(o.a)({},t),{},{cards:e.payload});default:return t}},changeReducers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:return Object(o.a)(Object(o.a)({},t),{},{lists:t.lists.filter((function(t){return t!==e.payload}))});case u:case C:return Object(o.a)(Object(o.a)({},t),{},{lists:t.lists});case p:return Object(o.a)(Object(o.a)({},t),{},{cards:t.cards});case f:return Object(o.a)(Object(o.a)({},t),{},{cards:t.cards.filter((function(t){return t!==e.payload}))});case g:return Object(o.a)(Object(o.a)({},t),{},{cards:t.cards});default:return t}}}),v=(a(55),a(56),a(66),[l.a]),m=Object(c.createStore)(E,{},Object(c.compose)(c.applyMiddleware.apply(void 0,v)));m.subscribe((function(){console.log("state updated:",m.getState())}));var x=m,w=(a(67),a(12)),N=a(13),y=a(3),A=a(44),D=a(43),I=(a(68),a(0)),k=function(){return Object(I.jsxs)("header",{class:"tophead",children:[Object(I.jsxs)("div",{class:"boards-menu",children:[Object(I.jsxs)("button",{class:"boards-btn btn",children:[Object(I.jsx)("i",{class:"fab fa-trello boards-btn-icon"}),"Boards"]}),Object(I.jsxs)("div",{class:"board-search",children:[Object(I.jsx)("input",{type:"search",class:"board-search-input","aria-label":"Board Search"}),Object(I.jsx)("i",{class:"fas fa-search search-icon","aria-hidden":"true"})]})]}),Object(I.jsx)("div",{class:"logo",children:Object(I.jsxs)("h1",{children:[Object(I.jsx)("i",{class:"fab fa-trello logo-icon","aria-hidden":"true"}),"Trello"]})}),Object(I.jsxs)("div",{class:"user-settings",children:[Object(I.jsx)("button",{class:"user-settings-btn btn","aria-label":"Create",children:Object(I.jsx)("i",{class:"fas fa-plus","aria-hidden":"true"})}),Object(I.jsx)("button",{class:"user-settings-btn btn","aria-label":"Information",children:Object(I.jsx)("i",{class:"fas fa-info-circle","aria-hidden":"true"})}),Object(I.jsx)("button",{class:"user-settings-btn btn","aria-label":"Notifications",children:Object(I.jsx)("i",{class:"fas fa-bell","aria-hidden":"true"})}),Object(I.jsx)("button",{class:"user-settings-btn btn","aria-label":"User Settings",children:Object(I.jsx)("i",{class:"fas fa-user-circle","aria-hidden":"true"})})]})]})},S=function(t){t.handleModal;return Object(I.jsx)("div",{children:Object(I.jsxs)("section",{class:"board-info-bar",children:[Object(I.jsxs)("div",{class:"board-controls",children:[Object(I.jsx)("button",{class:"board-title btn",children:Object(I.jsx)("h2",{children:"Trello Board"})}),Object(I.jsx)("button",{class:"star-btn btn","aria-label":"Star Board",children:Object(I.jsx)("i",{class:"far fa-star","aria-hidden":"true"})}),Object(I.jsx)("button",{class:"personal-btn btn",children:"Personal"}),Object(I.jsxs)("button",{class:"private-btn btn",children:[Object(I.jsx)("i",{class:"fas fa-briefcase private-btn-icon","aria-hidden":"true"}),"Private"]})]}),Object(I.jsxs)("button",{class:"menu-btn btn",children:[Object(I.jsx)("i",{class:"fas fa-ellipsis-h menu-btn-icon","aria-hidden":"true"}),"Show Menu"]})]})})},_=function(t){var e=t.listName,a=t.editingList,d=t.handleEditList,n=t.listId,i=t.showEditList,s=t.currentEditList,r=t.handleListChange,c=t.currentNewListName;return Object(I.jsx)("div",{children:a&&s===n?Object(I.jsxs)("div",{className:"submit-container",children:[Object(I.jsx)("input",{className:"submit-input",type:"text",onChange:r}),Object(I.jsx)("button",{class:"submit-btn btn",onClick:function(t){t.preventDefault(),console.log("List Name was selected"),d(n,c),i(n)},children:"Submit"})]}):Object(I.jsx)("div",{className:"list-title",onClick:function(){console.log(n,"line 13"),i(n)},children:e})})},T=(a(70),function(t){var e=t.cardName,a=t.cardId,d=t.listId,n=t.handleDeleteCard,i=(t.originalCardId,t.handleEditCard),s=t.showEditCard,r=t.editingCard,c=t.currentNewCardName,l=t.handleCardChange,o=t.currentEditCardList,h=t.currentEditCard;return Object(I.jsx)("div",{className:"single-card",children:r&&o===d&&h===a?Object(I.jsxs)("div",{className:"submit-container-card",children:[Object(I.jsx)("input",{className:"submit-input",type:"text",onChange:l}),Object(I.jsx)("button",{class:"submit-btn btn",onClick:function(t){t.preventDefault(),console.log("Card Name was selected"),i(a,d,c),s(d,a)},children:"Submit"})]}):Object(I.jsxs)("div",{onClick:function(){s(d,a)},children:[e,Object(I.jsx)("button",{type:"button",class:"btn-close float-end","aria-label":"Close",onClick:function(t,e){n(a,d)}})]})})}),R=function(t){var e=t.showAddCard,a=t.addingCard,d=t.handleAddCard,n=t.listId,i=t.lastCardId,s=t.lastPosition,r=t.currentAddList,c=t.currentNewCardName,l=t.handleCardChange;return Object(I.jsx)("div",{children:a&&r===n?Object(I.jsxs)("div",{className:"submit-container-add-card",children:[Object(I.jsx)("input",{className:"submit-input",type:"text",onChange:l}),Object(I.jsx)("button",{class:"submit-btn btn",onClick:function(t){d(n,i,s,c),e(n)},children:"Submit"})]}):Object(I.jsx)("button",{class:"add-card-btn btn",onClick:function(){e(n)},children:"Add a card"})})},G=function(t){for(var e=t.listId,a=t.handleAddCard,d=t.handleDeleteCard,n=t.handleEditCard,i=t.showEditCard,s=t.editingCard,r=t.showAddCard,c=t.addingCard,l=t.currentAddList,o=t.currentNewCardName,h=t.handleCardChange,u=t.currentEditCardList,b=t.currentEditCard,C=x.getState().getReducers.cards,j=[],p=0;p<C.length;p++)C[p][0].list_id===e&&j.push(C[p]);var f=0,g=0;return j.length>0&&(f=j[j.length-1][0].position,g=j[j.length-1][0].card_id),Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{children:j.map((function(t){return Object(I.jsx)(T,{cardId:t[0].card_id,originalCardId:t[0]._id,cardName:t[0].card_name,listId:e,handleDeleteCard:d,handleEditCard:n,showEditCard:i,editingCard:s,handleCardChange:h,currentNewCardName:o,currentEditCardList:u,currentEditCard:b})}))}),Object(I.jsx)("div",{children:Object(I.jsx)(R,{showAddCard:r,addingCard:c,handleAddCard:a,listId:e,lastCardId:g,lastPosition:f,currentAddList:l,currentNewCardName:o,handleCardChange:h})})]})},M=function(t){var e=t.listName,a=t.listId,d=(t.listPosition,t.handleDeleteList),n=t.handleEditList,i=t.handleAddCard,s=t.handleDeleteCard,r=t.handleEditCard,c=t.editingList,l=t.showEditList,o=t.showEditCard,h=t.editingCard,u=t.showAddCard,b=t.addingCard,C=t.currentAddList,j=t.currentNewCardName,p=t.handleCardChange,f=t.currentEditList,g=t.handleListChange,L=t.currentNewListName,O=t.currentEditCardList,E=t.currentEditCard,v=a;return Object(I.jsxs)("div",{className:"single-list",children:[Object(I.jsx)("div",{class:"container",children:Object(I.jsx)("div",{class:"row",children:Object(I.jsx)("header",{children:Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{class:"float-start",children:Object(I.jsx)(_,{listName:e,editingList:c,handleEditList:n,listId:a,currentEditList:f,showEditList:l,handleListChange:g,currentNewListName:L})}),Object(I.jsx)("button",{type:"button",class:"btn-close float-end","aria-label":"Close",onClick:function(t){d(v)}})]})})})}),Object(I.jsx)(G,{listId:a,handleAddCard:i,handleDeleteCard:s,handleEditCard:r,showEditCard:o,editingCard:h,showAddCard:u,addingCard:b,currentAddList:C,currentNewCardName:j,handleCardChange:p,currentEditCardList:O,currentEditCard:E})]})},P=function(t){var e,a=t.lists,d=t.handleDeleteList,n=t.handleAddList,i=t.handleEditList,s=t.handleAddCard,r=t.handleDeleteCard,c=t.handleEditCard,l=t.editingList,o=t.showEditList,h=t.showEditCard,u=t.editingCard,b=t.showAddCard,C=t.addingCard,j=t.currentAddList,p=t.currentNewCardName,f=t.handleCardChange,g=t.currentEditList,L=t.handleListChange,O=t.currentNewListName,E=t.currentEditCardList,v=t.currentEditCard;if(x.getState().getReducers.lists.length>0&&(a=x.getState().getReducers.lists),e=0===a.length?1:a[a.length-1].list_id+1,a.length>0){var m=[];a.forEach((function(t){m.push(t.list_id)}))}return Object(I.jsx)("div",{children:Object(I.jsx)("ul",{children:Object(I.jsxs)("div",{className:"flex-container",children:[a.map((function(t){return Object(I.jsx)(M,{listName:t.list_name,listId:t.list_id,listPosition:t.list_position,handleDeleteList:d,handleEditList:i,handleAddCard:s,handleDeleteCard:r,handleEditCard:c,showEditList:o,editingList:l,showEditCard:h,editingCard:u,showAddCard:b,addingCard:C,currentAddList:j,currentNewCardName:p,handleCardChange:f,currentEditList:g,handleListChange:L,currentNewListName:O,currentEditCardList:E,currentEditCard:v})})),Object(I.jsx)("div",{className:"list-container",children:Object(I.jsx)("button",{onClick:function(t){n(e)},class:"add-list-btn btn",children:"Add a list"})})]})})})},B=a(41),U=a.n(B),J=a(42),q=a.n(J).a.create({baseURL:"http://localhost:3001/"});q.interceptors.response.use((function(t){return t}),(function(t){var e=U()(t,["response","data","err"]);return Promise.reject(e||t.message)}));var z=q,F=function(){return function(t){z.get("/lists").then((function(e){for(var a=[],d=0;d<e.data.length;d++){var n={};n.list_id=e.data[d].list_id,n.list_name=e.data[d].list_name,n.position=e.data[d].position,a.push(n)}t({type:h,payload:a})})).catch((function(e){return t({type:L,payload:e})}))}},H=function(){return function(t){z.get("/cards").then((function(e){console.log("res from getCards:",e.data);for(var a=[],d=0;d<e.data.length;d++){var n=[],i=e.data[d]._cards;n.push(i),a.push(n)}t({type:j,payload:a})})).catch((function(e){return t({type:L,payload:e})}))}},K=function(t){Object(A.a)(a,t);var e=Object(D.a)(a);function a(t){var d;return Object(w.a)(this,a),(d=e.call(this,t)).state={lists:[],cards:[],editingList:!1,editingCard:!1,addingCard:!1,currentAddList:0,currentNewCardName:"",currentEditList:0,currentNewListName:"",currentEditCard:0,currentEditCardName:"",currentEditCardList:0,showModal:!1},d.onGetCards=d.onGetCards.bind(Object(y.a)(d)),d.onGetLists=d.onGetLists.bind(Object(y.a)(d)),d.handleAddList=d.handleAddList.bind(Object(y.a)(d)),d.handleDeleteList=d.handleDeleteList.bind(Object(y.a)(d)),d.handleEditList=d.handleEditList.bind(Object(y.a)(d)),d.handleAddCard=d.handleAddCard.bind(Object(y.a)(d)),d.handleDeleteCard=d.handleDeleteCard.bind(Object(y.a)(d)),d.handleEditCard=d.handleEditCard.bind(Object(y.a)(d)),d.showEditList=d.showEditList.bind(Object(y.a)(d)),d.showEditCard=d.showEditCard.bind(Object(y.a)(d)),d.showAddCard=d.showAddCard.bind(Object(y.a)(d)),d.handleCardChange=d.handleCardChange.bind(Object(y.a)(d)),d.handleListChange=d.handleListChange.bind(Object(y.a)(d)),d.handleModal=d.handleModal.bind(Object(y.a)(d)),d}return Object(N.a)(a,[{key:"onGetCards",value:function(){x.dispatch(this.props.getCards)}},{key:"onGetLists",value:function(){x.dispatch(this.props.getLists)}},{key:"handleAddList",value:function(t){this.props.addList(t)}},{key:"handleDeleteList",value:function(t){this.props.deleteList(t)}},{key:"handleEditList",value:function(t,e){this.props.editList(t,e)}},{key:"handleAddCard",value:function(t,e,a,d){this.props.addCard(t,e,a,d)}},{key:"handleDeleteCard",value:function(t,e){this.props.deleteCard(t,e)}},{key:"handleEditCard",value:function(t,e,a){this.props.editCard(t,e,a)}},{key:"showEditList",value:function(t){this.setState({editingList:!this.state.editingList,currentEditList:t})}},{key:"showEditCard",value:function(t,e){this.setState({editingCard:!this.state.editingCard,currentEditCardList:t,currentEditCard:e})}},{key:"showAddCard",value:function(t){this.setState({addingCard:!this.state.addingCard,currentAddList:t})}},{key:"handleCardChange",value:function(t){this.setState({currentNewCardName:t.target.value})}},{key:"handleListChange",value:function(t){this.setState({currentNewListName:t.target.value})}},{key:"handleModal",value:function(){this.setState({showModal:!0})}},{key:"componentDidMount",value:function(){this.onGetLists(),this.onGetCards()}},{key:"render",value:function(){var t=this.state,e=t.lists;t.listIds,t.cards;return Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)(k,{}),Object(I.jsx)(S,{handleModal:this.handleModal}),Object(I.jsx)(P,{lists:e,handleDeleteList:this.handleDeleteList,handleAddList:this.handleAddList,handleEditList:this.handleEditList,handleAddCard:this.handleAddCard,handleDeleteCard:this.handleDeleteCard,handleEditCard:this.handleEditCard,editingList:this.state.editingList,showEditList:this.showEditList,showEditCard:this.showEditCard,editingCard:this.state.editingCard,addingCard:this.state.addingCard,showAddCard:this.showAddCard,currentAddList:this.state.currentAddList,currentNewCardName:this.state.currentNewCardName,handleCardChange:this.handleCardChange,currentEditList:this.state.currentEditList,handleListChange:this.handleListChange,currentNewListName:this.state.currentNewListName,currentEditCardList:this.state.currentEditCardList,currentEditCard:this.state.currentEditCard})]})}}]),a}(n.a.Component),Q=Object(r.b)((function(t){return t}),{getLists:F,deleteList:function(t){return function(e){var a={list_id:t};z.delete("http://localhost:3001/api/lists/".concat(t),{params:a}).then((function(a){e({type:b,payload:t}),e(F())})).catch((function(t){return e({type:L,payload:t})}))}},addList:function(t){return function(e){var a={listId:t};z.post("http://localhost:3001/api/lists/".concat(t),{params:a}).then((function(a){e({type:u,payload:t}),e(F())})).catch((function(t){return e({type:L,payload:t})}))}},editList:function(t,e){return function(a){var d={listId:t,listTitle:e};z.patch("http://localhost:3001/api/lists/".concat(t),d).then((function(t){a({type:C,payload:t}),a(F())})).catch((function(t){return a({type:L,payload:{}})}))}},getCards:H,addCard:function(t,e,a,d){return function(n){var i={cardId:e+1,listId:t,cardName:d,position:a+1};console.log(i,"line 85"),z.post("http://localhost:3001/api/cards/".concat(t),{params:i}).then((function(t){n({type:p,payload:t}),n(H())})).catch((function(t){return n({type:L,payload:t})}))}},deleteCard:function(t,e){return function(a){var d={listId:e,cardId:t};console.log(d,"line 109"),z.delete("http://localhost:3001/api/cards/".concat(t),{params:d}).then((function(e){console.log(e,"deleteCard line 112"),a({type:f,payload:t}),a(H())})).catch((function(t){return a({type:L,payload:t})}))}},editCard:function(t,e,a){return function(d){console.log(t,e,a,"line 53");var n={cardId:t,listId:e,cardTitle:a};z.patch("http://localhost:3001/api/cards/".concat(t),n).then((function(t){console.log(t,"editCard line 137"),d({type:g,payload:t}),d(H())})).catch((function(t){return d({type:L,payload:{}})}))}}})(K);s.a.render(Object(I.jsx)(r.a,{store:x,children:Object(I.jsx)(Q,{})}),document.getElementById("root"))},67:function(t,e,a){},68:function(t,e,a){}},[[126,1,2]]]);
//# sourceMappingURL=main.b667577c.chunk.js.map